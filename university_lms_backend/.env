# -------------------------------
# University LMS Backend .env
# Fill in all values for your deployment environment.
# NEVER commit this file with production secrets to public source control.
# -------------------------------

# -------------------------------
# Database Settings
# -------------------------------
POSTGRES_DB=lms
POSTGRES_USER=lms_user
POSTGRES_PASSWORD=YOUR_STRONG_SECURE_PASSWORD
DATABASE_URL=postgresql+psycopg2://lms_user:YOUR_STRONG_SECURE_PASSWORD@db:5432/lms

# -------------------------------
# JWT/Authentication Settings
# -------------------------------
JWT_SECRET_KEY=YOUR_RANDOM_AND_SECRET_JWT_KEY
JWT_ACCESS_TOKEN_EXPIRES_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRES_MINUTES=43200
JWT_ALGORITHM=HS256

# -------------------------------
# Argon2id Password Hasher Settings
# Production values (tune for your server!):
# -------------------------------
ARGON2_TIME_COST=3
ARGON2_MEMORY_COST=65536
ARGON2_PARALLELISM=4

# -------------------------------
# File Uploads/Storage
# -------------------------------
UPLOADS_PATH=/uploads                   # Mounted or mapped path INSIDE backend container
MAX_UPLOAD_SIZE_MB=25                   # Enforced by app/infra, hard fail if exceeded
ALLOWED_UPLOAD_MIME_TYPES=pdf,docx,zip,txt,png,jpg

# -------------------------------
# Email Settings (Notifications, Password Reset)
# -------------------------------
EMAIL_HOST=smtp.yourdomain.com
EMAIL_PORT=587
EMAIL_HOST_USER=your-lms-notify-username
EMAIL_HOST_PASSWORD=your-lms-notify-password
EMAIL_FROM=noreply@yourdomain.com
EMAIL_TLS=True

# -------------------------------
# Redis Settings (useful for caching, celery, etc)
# -------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# -------------------------------
# CORS & Security
# -------------------------------
ALLOWED_ORIGINS=http://localhost:5173
ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
ALLOWED_HEADERS=Authorization,Content-Type

# -------------------------------
# Logging
# -------------------------------
LOG_LEVEL=INFO

# -------------------------------
# Other / Feature Flags
# -------------------------------
# SENTRY_DSN=
# ENABLE_AI_GRADING=False
# ENABLE_ANALYTICS=False